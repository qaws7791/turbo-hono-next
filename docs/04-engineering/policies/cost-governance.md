# Cost Governance 정책

## 개요

AI 호출 비용 관리, 토큰 예산, abuse 방지 정책을 정의합니다.

---

## 비용 발생 지점

| 기능      | API               | 비용 요인      |
| --------- | ----------------- | -------------- |
| 임베딩    | Gemini Embeddings | 입력 토큰 수   |
| 대화      | Gemini Chat       | 입력/출력 토큰 |
| Plan 생성 | Gemini Chat       | 컨텍스트 크기  |

---

## 제한 정책

### 문서 제한

| 항목          | 제한      |
| ------------- | --------- |
| 파일 크기     | 50MB      |
| 페이지 수     | 500페이지 |
| 사용자당 문서 | 100개     |

### Rate Limit

| 범위            | 제한    |
| --------------- | ------- |
| 사용자 API 호출 | 60회/분 |
| Chat 메시지     | 30회/분 |
| 업로드          | 10회/분 |

---

## 토큰 예산 (향후)

### 사용자별 일일 한도

- 임베딩: 100,000 토큰/일
- 대화: 50,000 토큰/일

### 초과 시 동작

```
429 Too Many Requests
{ "error": { "code": "QUOTA_EXCEEDED", "resetAt": "..." }}
```

---

## Abuse 방지

### 탐지

- 짧은 시간 대량 업로드
- 반복적인 동일 질문
- 비정상적 파일 패턴

### 대응

1. 경고 메시지
2. 일시 제한
3. (반복 시) 계정 검토

---

## 관련 문서

- [API 개요](../api/overview.md)
