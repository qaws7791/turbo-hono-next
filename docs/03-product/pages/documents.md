# Documents (자료 업로드 & 관리)

## 개요

Documents는 학습 자료를 업로드하고 관리하는 공간입니다. 자료 업로드 시 AI가 자동으로 문서를 분석합니다.

---

## 의사결정 근거

- 사용자가 목차/토픽을 수동으로 만들게 하면 전통 LMS의 복잡성이 그대로 재현
- 다양한 자료 형식을 허용해야 진입 장벽이 낮아짐
- **업로드는 저장만 수행**: 문서를 업로드해도 **기존 학습 계획(Plan)은 자동으로 바뀌지 않음**

---

## 가능한 입력 형식

| 유형            | 지원 형식                                              |
| --------------- | ------------------------------------------------------ |
| **파일 업로드** | PDF, Markdown (.md), 텍스트 (.txt), Word (.doc, .docx) |
| **URL 입력**    | 웹 페이지, YouTube                                     |
| **텍스트 입력** | 노트 직접 붙여넣기                                     |

---

## AI 처리 과정 (자동)

문서 업로드 후 자동으로 진행되는 분석:

1. **문서 구조 분석** → Curriculum Structure 생성
2. **Concept 추출** → 핵심 개념 식별
3. **난이도 매핑** → 선행지식 자동 연결
4. **Plan 생성 대기** → 경로는 자동 생성 안 됨, 사용자가 명시적으로 Plan 생성 필요

---

## 문서 카드 구성

| 필드        | 설명                                     |
| ----------- | ---------------------------------------- |
| 제목        | 문서 이름                                |
| 유형 아이콘 | PDF/URL/텍스트 등                        |
| 상태 배지   | `분석 완료`, `분석 중`, `미분석`, `오류` |
| 1줄 요약    | AI가 생성한 요약 (분석 완료 시)          |
| 태그        | 자동 생성된 태그                         |
| 업로드 날짜 | 업로드 시점                              |

---

## 와이어프레임

![Documents Wireframe List](assets/documents-list.png)

---

## 업로드 UI

### 드롭존

- 드래그 앤 드롭 지원
- 클릭하여 파일 선택

### 업로드 방식 탭

```
[📁 파일] [🔗 URL] [📝 텍스트]
```

### 각 탭별 입력

- **파일**: 드롭존 + 파일 선택 버튼
- **URL**: URL 입력 필드
- **텍스트**: 텍스트 에디터

---

## 업로드 제한사항

| 항목               | 제한             |
| ------------------ | ---------------- |
| **파일 크기**      | 최대 50MB / 파일 |
| **문서 페이지 수** | 최대 500페이지   |

---

## UI 원칙

### 단순함

- 업로드 + "분석하기" 버튼 외 선택 없음
- 복잡한 조직화 불필요

### 분석 완료 후

- "Plan 생성하기" CTA 제공
- 태그/요약 자동 표시

### 빈 상태

- 사용자가 아직 자료를 업로드하지 않았을 때
- 빈 상태 일러스트 및 텍스트 설명
- "자료 업로드" 버튼
  ![Documents Wireframe Empty](assets/documents-empty.png)

---

## 문서 상태

| 상태        | 설명        | 시각적 표현   |
| ----------- | ----------- | ------------- |
| `pending`   | 업로드 대기 | 회색          |
| `analyzing` | 분석 중     | 노랑 + 스피너 |
| `completed` | 분석 완료   | 초록          |
| `error`     | 분석 오류   | 빨강          |

---

## 문서 삭제

### 동작 방식

사용자가 자료를 삭제하면 **즉시 목록에서 사라집니다**.

> **내부 동작:** 좀비 데이터(Zombie Data) 전략을 사용하여, 진행 중인 학습 계획이 참조하는 자료는 시스템에 임시 유지됩니다.  
> 상세 내용은 [학습 자료 삭제 정책](../../04-engineering/policies/material-deletion.md)을 참조하세요.

### 사용자 피드백

| 상황                    | 메시지                                                                  | 삭제 타입                    |
| ----------------------- | ----------------------------------------------------------------------- | ---------------------------- |
| **참조 중인 Plan 없음** | "삭제되었습니다."                                                       | Hard Delete (즉시 영구 삭제) |
| **참조 중인 Plan 있음** | "목록에서 삭제되었습니다. (진행 중인 학습을 위해 데이터는 유지됩니다.)" | Soft Delete (목록에서 숨김)  |

### UI 원칙

- 사용자에게 '보관함'이나 '숨김' 개념을 노출하지 않음
- 삭제 버튼 클릭 → 즉시 목록에서 제거
- 간단하고 명확한 피드백 메시지 제공
- 시스템이 자동으로 데이터 무결성 관리

---

## 관련 문서

- [학습 자료 삭제 정책](../../04-engineering/policies/material-deletion.md)
- [Materials API](../../04-engineering/api/materials.md)
