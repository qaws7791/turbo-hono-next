# 로그인 페이지 (/login)

## 개요

로그인 페이지는 **기존 사용자의 빠른 진입**과 **신규 사용자의 간편한 가입**을 동시에 지원합니다.

---

## 의사결정 근거

- 2025년 트렌드인 **Passwordless 인증** 적용 (마찰 최소화, 신뢰/안전 커뮤니케이션 강화)
- 이메일 매직링크 + Google OAuth를 제공하여 사용자 선택권 보장
- "Calm Focus OS" 디자인 컨셉과 일관성 유지

---

## 라우팅 규칙

| 경로           | 설명                           |
| -------------- | ------------------------------ |
| `/login`       | 로그인 페이지 진입             |
| 로그인 성공 후 | `/home` (앱 홈)으로 리다이렉트 |

### 진입 경로

- 랜딩(`/`)에서 "무료로 시작하기" 클릭 → 미로그인: `/login`, 로그인: `/home`

---

## 레이아웃

### 데스크톱 (2컬럼)

```
┌─────────────────────┬─────────────────┐
│                 │              │
│   인증 카드       │ 브랜드 이미지  │
│                 │              │
│  [Google 로그인] │              │
│  ─── 또는 ───     │              │
│  [이메일 입력]    │     (Image)  │
│ [매직링크 보내기]  │              │
│                 │              │
└─────────────────────┴─────────────────┘
```

### 모바일 (1컬럼)

```
┌──────────────────────┐
│  짧은 헤드라인     │
├──────────────────────┤
│ [Google 로그인]   │
│  ─── 또는 ───      │
│  [이메일 입력]     │
│ [매직링크 보내기]   │
├──────────────────────┤
│  약관/문의         │
└──────────────────────┘
```

---

## 인증 카드 구성

### 1. Google 로그인

- 버튼: "Google로 계속하기"
- 공식 브랜딩 가이드 준수

### 2. 구분선

- "또는"

### 3. 이메일 매직링크

- **입력**: 이메일 1개
- **CTA**: "매직링크 보내기"

### 4. 하단

- 약관/개인정보 링크
- 고객지원 링크

---

## 상태 설계

### Input 단계

- 이메일 입력 및 검증
- 오류 메시지:
  - 형식 오류: "이메일 형식을 확인하세요."
  - 레이트리밋: "잠시 후 다시 시도하세요."

### Sending 단계

- 전송 중 로딩 상태
- 버튼 비활성화 + 스피너

### Sent 단계

- **타이틀**: "링크를 보냈습니다"
- **안내**: "메일함에서 로그인 링크를 클릭하세요."
- **체크 포인트**: "스팸함/프로모션함도 확인하세요."
- **다시 보내기**: 타이머(00:30) 후 활성화
- **이메일 주소 변경**: 링크 제공

### Callback 단계 (추후 구현)

- 토큰 만료: "링크가 만료되었습니다. 새 링크를 요청하세요."
- 토큰 재사용: "이미 사용된 링크입니다."

---

## 보안 원칙

### 매직링크 토큰

- 단일 사용 (1회용)
- 짧은 만료 (10~15분)
- 서버 측 폐기

### 리다이렉트

- callback에서 redirect 파라미터는 allowlist 기반 제한

### 세션

- 로그인 직후 세션 고정 공격 방지 (세션 재발급)

---
