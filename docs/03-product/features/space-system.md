# Space 시스템

## 개요

**Space = "한 가지 학습 의도/목표"를 담는 컨테이너**

사용자의 여러 학습 영역을 분리하여 관리하고, 각 학습 영역이 서로 간섭하지 않도록 합니다.

---

## 의사결정 근거

- 사용자는 학습할 때 "다른 인생 영역"이 섞이는 순간 피로함
- 여러 학습 계획이 한 화면에 혼재되면 상태가 분산되어 해석이 어려움
- Space로 분리하면 하나의 계획도 **혼재가 아니라 '맥락 고정'**으로 체감

---

## Space 내 종속 리소스

Space 안에 다음이 **모두 종속**됩니다:

| 리소스        | 설명                                        |
| ------------- | ------------------------------------------- |
| **Documents** | 업로드된 학습 자료                          |
| **Plans**     | 학습 계획 (여러 개 가능, Active는 1개 권장) |
| **Sessions**  | 세션 로그                                   |

---

## Document와 Plan의 관계

### Document (자료)

- 저장/검색/요약/태깅/지식 그래프 구성의 입력
- Space에 업로드되어 관리됨

### Plan (학습 계획)

- 사용자가 선택한 Document들을 바탕으로 생성
- Plan은 생성 시점의 `sourceDocumentIds`를 고정 (재현 가능)
- 문서가 추가되어도 기존 Plan은 변하지 않음
- 새로운 문서를 반영하려면 새 Plan을 생성해야 함

---

## 전역 내비게이션

### Home

- **전역 Home 허브**
- 모든 Space의 Active Plan에서 해야 할 항목을 집계
- 스페이스를 이동하며 할 일을 찾는 행위 불필요

### Spaces 목록

- Space 전환 및 관리
- 새 Space 생성

---

## 페이지별 동작 규칙

| 페이지     | Space 적용                                             |
| ---------- | ------------------------------------------------------ |
| 홈 (Home)  | **전역 집계**: 모든 Space의 Active Plan에서 할 일 표시 |
| Spaces     | Space 목록/생성/관리 허브                              |
| Space 상세 | 해당 Space의 Documents/Plans                           |
| Plan 상세  | 선택된 Plan의 실행/진행/경로 확인 및 다음 세션 시작    |

---

## 데이터 모델 규칙

### space_id 적용

- `space_id`를 다음에 부여:
  - 업로드 자료 (Documents)
  - 세션 (Sessions)
  - Plan
  - Module

### 소속 규칙

- 세션은 **반드시 1개의 Space에만 속함**
- Plan은 `sourceDocumentIds` 목록을 보유

---

## Space 관리

### 생성

- 최소 입력으로 빠르게 생성: 이름(필수) + 설명(선택)
- 아이콘/색상은 생성 후 Space 상세 화면에서 즉시 변경 가능

### 수정

- (현재 프로토타입) 아이콘/색상 변경
- 이름 수정은 추후 확장

### 삭제/보관

- 삭제 시 확인 필요
- 보관 옵션 (숨김 처리)

---

## 관련 문서

- [Spaces 목록 페이지](../pages/spaces.md)
- [Space 상세 페이지](../pages/space-detail.md)
