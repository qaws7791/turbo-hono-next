# 커리큘럼 생성 알고리즘 (Curriculum Algorithm)

## 개요

커리큘럼 생성 알고리즘은 사용자가 제공한 **학습 자료(Materials)**와 설정한 **목표(Goal)**를 결합하여, 구체적인 **일정(Schedule)**과 **학습 내용(Contents)**을 자동으로 설계하는 로직입니다.
단순히 문서를 쪼개는 것이 아니라, 사용자의 학습 가능 기간과 수준을 고려하여 최적의 학습 로드맵을 제안합니다.

---

## 의사결정 근거

- **개인화**: 동일한 자료라도 "취업 준비를 위해 1주일 안에 끝내야 하는 사람"과 "취미로 3달 동안 볼 사람"의 커리큘럼은 달라야 함
- **자동화**: 사용자가 직접 계획을 짜는 부담(Cognitive Load)을 제거하고, AI가 초안을 1분 내에 제시해야 함
- **적응형**: 막연한 목표만 있는 사용자에게는 AI가 문서를 분석하여 합리적인 기간을 역제안(Adaptive)해야 함

---

## 기간 산정 로직 (Duration Logic)

사용자는 두 가지 모드 중 하나를 선택하여 커리큘럼 기간을 결정합니다.

### 1. 적응형 모드 (Adaptive Mode)

사용자가 기간을 정하지 않고 AI에게 맡기는 모드입니다.

- **로직**: 문서의 분량(토큰 수, 페이지 수)과 난이도를 분석하여 적절한 학습 기간을 계산합니다.
- **공식 (예시)**: `총 토큰 수 / (일일 권장 학습량 * 난이도 계수)`
- **장점**: 무리한 계획을 방지하고 완주 확률을 높입니다.

### 2. 사용자 지정 모드 (Custom Mode)

사용자가 명확한 마감일(Deadline)이나 기간을 설정하는 모드입니다.

- **입력**: "2주 안에 끝내줘", "30일 동안 할래"
- **로직**: `총 분량 / 설정된 기간 = 일일 학습량`
- **특징**: 기간이 짧을수록 하루 학습 밀도가 높아지며, AI는 이를 경고하거나 압축된 커리큘럼을 생성합니다.

---

## 생성 프로세스

### Input (입력 파라미터)

| 파라미터             | 설명                                                        |
| -------------------- | ----------------------------------------------------------- |
| **Source Materials** | 분석이 완료된 학습 자료 목록 (최대 5개)                     |
| **Duration**         | Adaptive 또는 Custom (일/주/월 단위)                        |
| **Level**            | 사용자의 현재 수준 (초급/중급/고급)                         |
| **Objective**        | 학습 목표 (취업, 시험, 교양 등)                             |
| **Notes**            | 사용자가 직접 입력한 추가 요구사항 (예: "실습 위주로 짜줘") |

### Output (출력 결과)

알고리즘(및 LLM)은 다음과 같은 구조의 JSON 데이터를 반환합니다.

- **Modules**: 대단원 (Chapter)
- **Sessions**: 소단원 (학습 1회 분량)
  - 할당된 날짜 (`scheduledDate`)
  - 소요 시간 (`minutes`)
  - 학습 주제 및 요약

---

## AI 프롬프트 전략

커리큘럼 생성 시 LLM에게 전달되는 정보 구성은 다음과 같습니다.

1.  **Role**: "당신은 전문적인 학습 코치이자 커리큘럼 설계자입니다."
2.  **Materials**: 각 자료의 제목과 **분석된 요약(Summary)** 내용
3.  **Constraints**:
    - "사용자는 {Level} 수준입니다."
    - "목표는 {Objective}입니다."
    - "기간은 {Duration}일로 설정되어 있습니다."
4.  **Requirement**:
    - "자료의 논리적 흐름을 유지하며 순서를 배치하세요."
    - "너무 쉬운 내용은 생략하거나 빠르게 넘어가고, 핵심 위주로 구성하세요."

---

## 후처리 및 보정

AI가 생성한 원시 데이터는 시스템에 의해 한 번 더 검증 및 보정됩니다.

- **날짜 매핑**: 생성된 세션 순서(1일차, 2일차...)를 실제 캘린더 날짜(202X-XX-XX)로 변환합니다.
- **휴일 처리**: (향후 도입 예정) 주말이나 공휴일을 제외하거나 학습량을 조절합니다.
- **로드 밸런싱**: 특정 일자에 세션이 과도하게 몰리지 않도록 분산합니다.
