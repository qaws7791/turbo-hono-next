# Plan 상세 (운영 콘솔) (/plans/:planId)

## 개요

Plan 상세는 **실행(오늘/다음 세션 시작) + 정보(참조 자료) + 진행 관리**를 제공하는 "학습 관리 허브"입니다. AI가 학습 계획을 생성하는 과정부터 완료 후 학습을 운영하는 모든 단계를 포함합니다.

---

## 의사결정 근거

- 세션 상세 페이지를 별도로 두지 않고, Plan 상세에서 모든 운영 로직을 처리
- 핵심 루프인 "시작" 버튼을 최상단 액션 섹션에 배치하여 접근성 강화
- AI 생성 과정을 투명하게 보여주어 사용자 대기 경험 개선
- 복잡한 설정은 드롭다운 메뉴로 분리하여 UI 간결성 유지

---

## 구성 섹션

### 1. AI 생성 뷰 (Generation View)

Plan 생성 직후 AI가 학습 계획을 수립하는 동안 표시되는 전용 뷰입니다.

- **진행 상태**: 생성 단계(준비 중, 자료 분석 중, 모듈 생성 중, 일정 배치 중 등)를 텍스트로 표시
- **진행률 바**: 전체 생성 프로세스의 진행률(%) 표시
- **에러 핸들링**: 생성 실패 시 에러 메시지와 함께 '다시 만들기' 옵션 제공

### 2. Header

**표시 항목**:

- Plan 제목
- 상태 뱃지 (`Active` / `Paused` / `Archived`)
- **문서 정보**: 해당 Plan의 기반이 되는 참조 문서(Source Materials) 개수 표시

### 3. Progress & Rhythm

전체 학습 계획의 진행 상황을 시각적으로 표시합니다.

- **진행률 바**: 완료된 세션 수 / 전체 세션 수 기반 (%)
- **메타 정보**: "진행률 - 총 N개 세션" 형식으로 표시

### 4. Plan Actions

가장 중요한 실행 버튼과 보조 도구들을 모아놓은 섹션입니다.

| 요소                  | 설명                                                                 |
| --------------------- | -------------------------------------------------------------------- |
| `세션 시작` (Primary) | 다음으로 학습해야 할 세션을 즉시 시작 (Session View 진입)            |
| `참조 자료`           | Plan 생성에 사용된 원본 자료 리스트를 확인할 수 있는 다이얼로그 호출 |
| `설정 (Dropdown)`     | `일시정지하기` / `다시 시작하기` / `보관하기` 액션 제공              |

### 5. Curriculum (Modules)

전체 학습 경로를 모듈과 세션 단위로 안내합니다.

**구성 요소**:

- **모듈 (Accordion)**: 모듈 제목, 요약, 해당 모듈 내 진행률(%) 표시
- **세션 (Item)**: 모듈 내 개별 학습 단위
  - 세션 제목, 유형(LEARN), 예정일, 예상 소요 시간
  - 상태 뱃지 (`Scheduled` / `In Progress` / `Completed`)
  - **인터랙션**: 상태에 따라 `시작` 또는 `요약 보기` 버튼 제공

---

## 상태별 UI

### Generating (AI 생성 중)

- `PlanGenerationView` 표시
- 다른 모든 섹션은 숨김 처리

### Active Plan

- "세션 시작" 버튼 활성화
- 커리큘럼 내 세션 '시작' 버튼 활성화

### Paused Plan

- 설정 메뉴에 "다시 시작하기" 표시
- "세션 시작" 버튼 비활성화
- "일시정지 상태입니다" 메시지(Badge) 강조

### Archived Plan

- 설정 메뉴에서 보관 상태 관리
- 모든 액션이 읽기 전용 또는 제한됨

---

## 관련 문서

- [Plans 페이지](./plans.md)
- [학습 세션](./learning-session.md)
